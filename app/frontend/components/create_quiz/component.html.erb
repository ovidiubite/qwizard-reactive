<%= render(BookPage::Component.new(basic: false)) do %>
  <%= render(SideBar::Component.new) do %>
    <div class=<%= class_for "quizName" %>>
      <h4><%= @quiz.title.presence || 'untitled' %></h4>
    </div>

    <div class="<%= class_for('questionsContainer') %>">
      <%= turbo_frame_tag :questions do %>
        <% @quiz.questions.each do |question| %>
          <%= render(QuestionItem::Component.new(@quiz, question, active: @question.id == question.id)) %>
        <% end %>
      <% end %>
      <div class="<%= class_for('questionContainer') %> <%= @question.id.nil? && class_for('active') %>">
        <%= link_to('New Question',
                    new_quiz_question_path(@quiz),
                    'data-turbo-frame': '_top') %>
      </div>
    </div>

    <%= link_to root_path, class: class_for('sidebarButtonContainer') do %>
      <%= render(Button::Component.new('DONE', submit: false)) %>
    <% end %>
  <% end %>

  <%= turbo_frame_tag :question do %>
    <%= render(QuestionDetails::Component.new(@quiz, @question)) %>
  <% end %>

<% end %>
